<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="integrasi_pos.NumericKeyboardPopup" owl="1">
        <div class="popup popup-numeric-keyboard custom-numpad-popup center">
            <div class="popup-overlay"></div>
            <div class="popup-content-wrapper">
                <main class="popup-content body">
                    <!-- Title - Compact -->
                    <div class="popup-title">
                        <h3><t t-esc="props.title or 'Input Angka'"/></h3>
                    </div>

                    <!-- Body Description - Compact -->
                    <div class="popup-body" t-if="props.body">
                        <p class="text-center"><t t-esc="props.body"/></p>
                    </div>

                    <!-- Display Input - Compact -->
                    <div class="input-container">
                        <div class="input-field" t-att-class="state.error ? 'error form-control' : 'form-control'">
                            <span t-esc="state.inputValue || props.placeholder" 
                                t-att-class="!state.inputValue ? 'placeholder text-muted' : 'input-text'" />
                        </div>
                        <div class="error-message text-danger" t-if="state.error" t-esc="state.error"/>
                    </div>

                    <!-- Numpad Grid - Compact -->
                    <div class="numpad-grid">
                        <button class="numpad-btn" t-on-click="() => this.onKeyPress('1')">1</button>
                        <button class="numpad-btn" t-on-click="() => this.onKeyPress('2')">2</button>
                        <button class="numpad-btn" t-on-click="() => this.onKeyPress('3')">3</button>
                        <button class="numpad-btn" t-on-click="() => this.onKeyPress('4')">4</button>
                        <button class="numpad-btn" t-on-click="() => this.onKeyPress('5')">5</button>
                        <button class="numpad-btn" t-on-click="() => this.onKeyPress('6')">6</button>
                        <button class="numpad-btn" t-on-click="() => this.onKeyPress('7')">7</button>
                        <button class="numpad-btn" t-on-click="() => this.onKeyPress('8')">8</button>
                        <button class="numpad-btn" t-on-click="() => this.onKeyPress('9')">9</button>
                        <button class="numpad-btn" t-on-click="() => this.onKeyPress('0')">0</button>
                        <button class="numpad-btn" t-on-click="() => this.onKeyPress('.')">.</button>
                        <button class="numpad-btn btn-clear" t-on-click="() => this.onKeyPress('clear')">
                            <i class="fa fa-trash"/>
                            Clear
                        </button>
                    </div>

                    <!-- Action Buttons - Horizontal -->
                    <div class="button-container">
                        <button class="btn btn-lg btn-secondary flex-fill" t-on-click="cancel">
                            <t t-esc="props.cancelText or 'Batal'"/>
                        </button>
                        <button class="btn btn-lg btn-primary flex-fill" t-on-click="confirm">
                            <t t-esc="props.confirmText or 'OK'"/>
                        </button>
                    </div>
                </main>
            </div>
        </div>
    </t>
</templates>